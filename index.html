<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Corner BBQ ‚Äî Menu</title>

<link rel="icon" type="image/png" href="/bbqsaitlogo.jpg">
<link rel="apple-touch-icon" href="/bbqsaitlogo.jpg">
<meta name="theme-color" content="#ff7a00">
<meta property="og:title" content="Corner BBQ sandwiches ‚Äî —Å–∞–Ω–¥–≤–∏—á–∏ –Ω–∞ –∂–∞—Ä üî•">
<meta property="og:description" content="–ü–æ—Ä—ä—á–∞–π –≤–∫—É—Å–Ω–∞ —Ö—Ä–∞–Ω–∞ –æ–Ω–ª–∞–π–Ω –æ—Ç Corner BBQ ‚Äî —Å–∞–Ω–¥–≤–∏—á–∏, –ø–∞–ª–∞—á–∏–Ω–∫–∏, —Å—Ç—Ä–∞–Ω–¥–∂–∞–Ω–∫–∏ –∏ –æ—â–µ!">
<meta property="og:image" content="https://bbqcorner.vercel.app/bbqsaitlogo.jpg">
<meta property="og:url" content="https://bbqcorner.vercel.app/">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://bbqcorner.vercel.app/bbqsaitlogo.jpg">
<meta name="twitter:title" content="Corner BBQ ‚Äî –û–Ω–ª–∞–π–Ω –ø–æ—Ä—ä—á–∫–∏">
<meta name="twitter:description" content="Corner BBQ ‚Äî –≤–∫—É—Å—ä—Ç –Ω–∞ –∏—Å—Ç–∏–Ω—Å–∫–∏—è –≥—Ä–∏–ª.">
<meta name="format-detection" content="telephone=no" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"Organization","name":"Corner BBQ","url":"https://bbqcorner.vercel.app","logo":"https://bbqcorner.vercel.app/bbqsaitlogo.jpg"}
</script>

<style>
:root{
  --gap:22px; --cardRadius:18px; --shadow:0 12px 36px rgba(0,0,0,.18);
  --softBorder:#00000012; --popShadow:0 22px 60px rgba(0,0,0,.28);
  --accent:#ff7a00; --bg:#fff; --text:#111;
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html{-webkit-text-size-adjust:100%}
html,body{height:100%}
body{
  margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:var(--bg);
  padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left)
}
img,picture,video,canvas,svg{max-width:100%;height:auto;display:block}
a,button{touch-action:manipulation}
.wrap{min-height:100dvh;display:flex;flex-direction:column}

/* ===== HERO ===== */
.hero{
  position:relative;height:90vh;padding:28px 60px;
  background:url("snimki/korica/korica2.jpg") center/cover no-repeat;overflow:hidden;
  filter:contrast(1.25) saturate(1.25) brightness(1.10);animation:zoomOut 3s ease-out forwards
}
.hero::before{
  content:"";position:absolute;inset:0;backdrop-filter:blur(0px);
  background:linear-gradient(180deg, rgba(0,0,0,.30), rgba(0,0,0,.55) 80%, transparent)
}
.hero-inner{position:relative;z-index:1;max-width:1250px;margin:0 auto}
@keyframes zoomOut{from{background-size:110%}to{background-size:100%}}

.logo-card{
  position:relative;width:128px;height:128px;border-radius:20px;background:linear-gradient(180deg,#fff,#fafafa);
  box-shadow:0 26px 44px rgba(0,0,0,.28),0 10px 22px rgba(0,0,0,.18),inset 0 1px 0 #ffffffcc;
  display:grid;place-items:center;margin:18px 0 12px 8px;border:1px solid var(--softBorder);
  animation:floatY 6s ease-in-out infinite;will-change:transform
}
.logo-card img{max-width:82%;max-height:82%;object-fit:contain}
.logo-card::before{
  content:"";position:absolute;left:50%;bottom:-16px;width:76%;height:20px;transform:translateX(-50%);
  background:radial-gradient(ellipse at center, rgba(0,0,0,.40) 0%, rgba(0,0,0,0) 65%);
  filter:blur(9px);opacity:.46;pointer-events:none;z-index:-1;animation:shadowPulse 6s ease-in-out infinite
}
.phone-banner{
  position:absolute;left:50%;transform:translateX(-50%);top:18px;z-index:3;font-weight:900;letter-spacing:.8px;text-transform:uppercase;
  font-size:48px;line-height:1.05;margin:0;color:#fff;text-shadow:0 4px 10px rgba(0,0,0,.9),0 2px 1px rgba(255,255,255,.12)
}
@keyframes floatY{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
@keyframes shadowPulse{0%,100%{transform:scale(1);opacity:.46}50%{transform:scale(.9);opacity:.36}}

/* GRID */
.tab-wrap{display:flex;justify-content:center;margin-top:-28px;position:relative;z-index:2}
.tab-title{background:#fff;border-radius:16px;padding:10px 22px;font-weight:800;letter-spacing:.6px;color:var(--accent);border:1px solid var(--softBorder);box-shadow:var(--shadow)}
.stage{background:#fff}
.grid{max-width:1250px;margin:12px auto 36px;padding:0 16px;display:grid;grid-template-columns:repeat(12,1fr);gap:var(--gap)}
@media (max-width:1100px){ .grid{grid-template-columns:repeat(8,1fr)} }
@media (max-width:700px){ .grid{grid-template-columns:repeat(4,1fr); --gap:16px} }
.card{
  position:relative;border-radius:var(--cardRadius);background:#fff;border:1px solid var(--softBorder);
  box-shadow:0 2px 0 #ffffff, var(--shadow);overflow:hidden;height:240px;display:flex;align-items:flex-end;text-decoration:none;
  transform-style:preserve-3d;transition:transform .28s cubic-bezier(.22,.8,.36,1), box-shadow .28s ease, filter .28s ease
}
.card .img{position:absolute;inset:10px;border-radius:14px;background:#e9ecef;background-size:cover;background-position:center}
.card::after{content:"";position:absolute;inset:10px;border-radius:14px;background:linear-gradient(180deg,rgba(0,0,0,0) 55%,rgba(0,0,0,.55) 100%);pointer-events:none}
.card span{position:relative;z-index:1;margin:0 0 18px 22px;font-size:28px;font-weight:900;color:#fff;letter-spacing:.6px;text-shadow:0 2px 6px rgba(0,0,0,.9)}
.w-4{grid-column:span 4}.w-6{grid-column:span 6}
@media (hover:hover){ .card:hover{ transform:perspective(800px) translateY(-6px) scale(1.035) rotateX(2deg); box-shadow:var(--popShadow); filter:saturate(1.04) contrast(1.02) } }
.card.is-pressed{ transform:perspective(900px) translateY(-2px) scale(0.985) rotateX(0.5deg) }
.card.is-popping{ transform:perspective(900px) translateY(-10px) scale(1.06) rotateX(3deg); box-shadow:var(--popShadow) }

/* FOOTER */
.footer{border-top:1px solid var(--softBorder);background:#fafafa;padding:26px 0 36px}
.footer-inner{max-width:1250px;margin:0 auto;padding:0 16px;display:grid;gap:28px;grid-template-columns:1.3fr 1fr 1fr}
.ft h4{margin:0 0 10px;font-size:18px}.ft p,.ft a{color:#333;margin:6px 0;text-decoration:none}
.power{text-align:center;color:#ff8a00;margin-top:16px}
.to-top{position:fixed;right:22px;bottom:22px;width:46px;height:46px;border-radius:999px;background:#111;color:#fff;border:1px solid #ffffff22;display:grid;place-items:center;font-size:20px;cursor:pointer;box-shadow:var(--shadow)}
@media (prefers-reduced-motion: reduce){ .hero{animation:none} .card{transition:none} }

/* ADMIN BUTTON */
.admin-btn{
  position:fixed;top:16px;right:20px;z-index:1100;display:flex;align-items:center;gap:10px;
  padding:10px 14px;border-radius:14px;background:#111;color:#fff;border:1px solid #ffffff1a;font-weight:900;cursor:pointer;box-shadow:var(--shadow)
}


/* TRACK BUTTON (–ø–æ–¥ –ê–î–ú–ò–ù) */
.track-btn{
  position:fixed;
  right:20px;
  top:60px;                 /* —Ç–æ—á–Ω–æ –ø–æ–¥ admin-btn (–∫–æ–π—Ç–æ –µ top:16px) */
  z-index:1100;
  display:flex;align-items:center;gap:10px;
  padding:10px 14px;border-radius:14px;
  background:#fff;color:#111;
  border:1px solid #00000014;
  font-weight:900;cursor:pointer;
  box-shadow:0 8px 24px rgba(0,0,0,.18);
}
/* === –ü–æ–ø—Ä–∞–≤–∫–∞ –∑–∞ –º–æ–±–∏–ª–µ–Ω –∏–∑–≥–ª–µ–¥ (–±—É—Ç–æ–Ω–∏—Ç–µ –¥–∞ –Ω–µ –∑–∞–∫—Ä–∏–≤–∞—Ç –ª–æ–≥–æ—Ç–æ) === */



/* AUTH overlay */
:root{ --soft:#ffffff1a; --accent:#ff7a00; --text:#fff; }
.auth{position:fixed;inset:0;background:rgba(0,0,0,.65);display:none;align-items:center;justify-content:center;z-index:9999}
.auth.show{display:flex}
.auth .box{width:min(92vw,420px);background:#121316;border:1px solid var(--soft);border-radius:16px;padding:18px;box-shadow:0 20px 60px rgba(0,0,0,.5);color:var(--text)}
.auth h2{margin-bottom:10px;color:var(--accent)}
.field{display:flex;flex-direction:column;gap:6px;margin-top:10px}
.field input[type="password"], .field input[type="text"]{background:#0f1115;border:1px solid var(--soft);color:#fff;border-radius:10px;padding:10px 12px;outline:none}
.rowc{display:flex;align-items:center;gap:8px;margin-top:8px}
.actions{display:flex;gap:10px;margin-top:14px}
.btn{background:#181a1f;border:1px solid var(--soft);color:#fff;border-radius:10px;padding:8px 10px;font-weight:800;cursor:pointer}
.btn.primary{background:var(--accent);border-color:transparent}
.err{color:#ff9a9a;font-size:12px;margin-top:8px;display:none}
.ok{color:#22cc88;font-weight:900;margin-top:8px}

/* === FINAL FIXED MOBILE BUTTONS === */
@media screen and (max-width: 768px) {
  :root { --safe-top: env(safe-area-inset-top, 0px); }

  body {
    scroll-padding-top: 160px !important;
    overscroll-behavior-y: contain;
  }

  #reviewsBtn,
  .admin-btn,
  .track-btn {
    position: fixed !important;
    z-index: 9999 !important;
    transform: translateZ(0);
    will-change: transform;
    transition: opacity 0.25s ease, transform 0.25s ease;
  }

  #reviewsBtn {
    top: calc(var(--safe-top) + 12px) !important;
    left: 14px !important;
  }

  .admin-btn {
    top: calc(var(--safe-top) + 12px) !important;
    right: 14px !important;
  }

  .track-btn {
    top: calc(var(--safe-top) + 60px) !important;
    right: 14px !important;
  }

  /* –ö–æ—Ä–µ–∫—Ü–∏—è –Ω–∞ hero –¥–∞ –Ω–µ –≤–ª–∏–∑–∞ –ø–æ–¥ –±—É—Ç–æ–Ω–∏—Ç–µ */
  .hero {
    margin-top: calc(var(--safe-top) + 100px) !important;
    height: 54vh !important;
    background-position: center 75% !important;
  }
}

/* ================= REVIEWS PANEL (–≤–≥—Ä–∞–¥–µ–Ω —Å—Ç–∏–ª) ================= */
#reviewsBtn{
  position:fixed;top:16px;left:20px;z-index:1200;
  background:var(--accent);color:#fff;border:none;
  font-weight:900;padding:10px 16px;border-radius:14px;
  box-shadow:0 8px 24px rgba(0,0,0,.4);cursor:pointer;
  transition:transform .2s ease;
}
#reviewsBtn:hover{transform:scale(1.05)}

#reviewsPanel{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,.7);display:none;align-items:center;justify-content:center;
  z-index:1300;
}
#reviewsPanel.show{display:flex}
#reviewsBox{
  background:#111418;border-radius:18px;padding:20px;
  max-width:700px;width:94%;color:#fff;font-family:Inter,system-ui;
  box-shadow:0 18px 60px rgba(0,0,0,.7);overflow:auto;max-height:85vh;
}
#reviewsBox h2{margin-top:0;color:var(--accent);display:flex;align-items:center;gap:12px;justify-content:space-between}
#reviewsList{margin-top:10px}
.reviewItem{
  background:#1a1c1f;border:1px solid #ffffff12;border-radius:14px;
  padding:12px;margin-bottom:10px;position:relative;
}
.stars{color:#ffb300;font-size:18px;letter-spacing:1px;margin-bottom:6px}
.reviewHead{display:flex;justify-content:space-between;align-items:center}
.reviewName{font-weight:800;color:#ffdca8}
.reviewText{font-size:14px;margin-top:6px;color:#e6e6e6}
.reviewMeta{font-size:12px;color:#9aa0a6;margin-top:8px}
#addReview textarea{
  width:100%;background:#0f1115;border:1px solid #ffffff12;
  border-radius:10px;padding:8px;color:#fff;resize:none;height:70px;
}
#addReview input{
  width:100%;margin-top:8px;padding:8px;border-radius:10px;
  border:1px solid #ffffff12;background:#0f1115;color:#fff;
}
.starSelect span{
  font-size:22px;cursor:pointer;color:#777;margin-right:4px;
}
.starSelect span.active{color:#ffb300;text-shadow:0 0 6px #ffb300}
#closeReviews{margin-top:12px;background:var(--accent);border:none;
  color:#fff;padding:8px 14px;border-radius:10px;font-weight:700;cursor:pointer}
.delBtn{
  background:transparent;border:none;color:#ff6767;cursor:pointer;
  font-size:16px;position:absolute;right:12px;top:12px;
}
.delBtn[aria-hidden="true"]{display:none}
.reviewItem.adminView .delBtn{display:inline}
.smallMuted{font-size:12px;color:#9aa0a6;margin-top:6px}
@media (max-width:640px){
  #reviewsBox{max-width:94%;padding:16px}
}
</style>
</head>
<body>
<div class="wrap">

  <!-- REVIEWS BUTTON -->
  <button id="reviewsBtn">–û—Ç–∑–∏–≤–∏ –∏ –ø—Ä–µ–ø–æ—Ä—ä–∫–∏</button>

  <!-- ADMIN BUTTON -->
  <button class="admin-btn" id="adminBtn">–ê–î–ú–ò–ù</button>

<!-- TRACK ORDER BUTTON -->
<button class="track-btn" id="trackBtn" aria-label="–ü—Ä–æ—Å–ª–µ–¥–∏ –ø–æ—Ä—ä—á–∫–∞—Ç–∞">
  –ü–†–û–°–õ–ï–î–ò –ü–û–†–™–ß–ö–ê–¢–ê
</button>

  <!-- HERO -->
  <header class="hero">
    <div class="hero-inner">
      <div class="logo-card"><img src="snimki/logo.png" alt="Corner BBQ Logo"></div>
         </div>
  </header>

  <div class="tab-wrap"><div class="tab-title">WEB –ú–ï–ù–Æ</div></div>

  <!-- GRID -->
  <section class="stage">
    <main class="grid" id="menuGrid">
      <a class="card w-4" data-key="burgeri"><div class="img"></div><span>–°–ê–ù–î–í–ò–ß–ò</span></a>
      <a class="card w-4" data-key="palachinki"><div class="img"></div><span>–ü–ê–õ–ê–ß–ò–ù–ö–ò</span></a>
      <a class="card w-4" data-key="strandzhanki"><div class="img"></div><span>–°–¢–†–ê–ù–î–ñ–ê–ù–ö–ò</span></a>
      <a class="card w-4" data-key="kartofi"><div class="img"></div><span>–ö–ê–†–¢–û–§–ò</span></a>
      <a class="card w-4" data-key="salati"><div class="img"></div><span>–°–ê–õ–ê–¢–ò</span></a>
      <a class="card w-4" data-key="portsii"><div class="img"></div><span>–ü–û–†–¶–ò–ô</span></a>
      <a class="card w-4" data-key="dobavki"><div class="img"></div><span>–î–û–ë–ê–í–ö–ò</span></a>
      <a class="card w-4" data-key="hell"><div class="img"></div><span>HELL</span></a>
      <a class="card w-4" data-key="voda"><div class="img"></div><span>–í–û–î–ê</span></a>
      <a class="card w-4" data-key="gazirana_voda"><div class="img"></div><span>–ì–ê–ó–ò–†–ê–ù–ê –í–û–î–ê</span></a>
      <a class="card w-4" data-key="fanta"><div class="img"></div><span>–§–ê–ù–¢–ê</span></a>
      <a class="card w-4" data-key="studen_chai"><div class="img"></div><span>–°–¢–£–î–ï–ù –ß–ê–ô</span></a>
      <a class="card w-4" data-key="kola"><div class="img"></div><span>–ö–û–õ–ê</span></a>
      <a class="card w-4" data-key="sok"><div class="img"></div><span>–°–û–ö</span></a>
      <a class="card w-4" data-key="xixo"><div class="img"></div><span>XIXO</span></a>
      <a class="card w-4" data-key="airqn"><div class="img"></div><span>–ê–ô–†–Ø–ù</span></a>
    </main>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="footer-inner">
      <div class="ft"><h4>–ó–∞ –∫–æ–Ω—Ç–∞–∫—Ç</h4><p>–≥—Ä. –•–∞—Å–∫–æ–≤–æ, –¶–µ–Ω—Ç—ä—Ä, –ø–ª. ‚Äû–°–≤–æ–±–æ–¥–∞‚Äú 26</p><p>10:00—á. ‚Äì 20:00—á.</p><p><b>–ü–æ—Ä—ä—á–∫–∏: 0886 505 861</b></p></div>
      <div class="ft"><h4>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4><a href="#">–û–±—â–∏ —É—Å–ª–æ–≤–∏—è</a><br><a href="#">–ü–æ–ª–∏—Ç–∏–∫–∞ –∑–∞ –ø–æ–≤–µ—Ä–∏—Ç–µ–ª–Ω–æ—Å—Ç</a></div>
      <div class="ft"><h4>–ó–∞ –Ω–∞—Å</h4><p>Corner BBQ ‚Ä¢ –°–∞–Ω–¥–≤–∏—á–∏ –Ω–∞ –∂–∞—Ä</p></div>
    </div>
    <div class="power">Powered by Dimitar Lambov. ¬© 2026</div>
  </footer>
</div>

<button id="toTop" class="to-top" title="–ö—ä–º –Ω–∞—á–∞–ª–æ—Ç–æ">‚Üë</button>

<!-- ===== AUTH OVERLAY (–ò–º–µ + –ü–∞—Ä–æ–ª–∞ + –ó–∞–ø–æ–º–Ω–∏ –º–µ) ===== -->
<div id="auth" class="auth" aria-hidden="true">
  <div class="box">
    <h2>–ê–¥–º–∏–Ω –¥–æ—Å—Ç—ä–ø</h2>

    <div class="field">
      <label for="adminName">–ò–º–µ</label>
      <input id="adminName" type="text" placeholder="–í—ä–≤–µ–¥–∏ –∏–º–µ (–Ω–∞–ø—Ä. –ò–≤–∞–Ω)">
    </div>

    <div class="field">
      <label for="pwd">–ü–∞—Ä–æ–ª–∞</label>
      <input id="pwd" type="password" placeholder="–í—ä–≤–µ–¥–∏ –∞–¥–º–∏–Ω –ø–∞—Ä–æ–ª–∞" autocomplete="current-password">
    </div>

    <div class="rowc">
      <input id="remember" type="checkbox">
      <label for="remember">–ó–∞–ø–æ–º–Ω–∏ –º–µ –Ω–∞ —Ç–æ–≤–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</label>
    </div>

    <div class="actions">
      <button id="loginBtn" class="btn primary">–í—Ö–æ–¥</button>
    </div>

    <div id="msg" class="ok" style="display:none">‚úÖ –£—Å–ø–µ—à–µ–Ω –≤—Ö–æ–¥ –∫–∞—Ç–æ –∞–¥–º–∏–Ω !</div>
    <div id="err" class="err">‚ùå –ì—Ä–µ—à–Ω–∞ –ø–∞—Ä–æ–ª–∞ –∏–ª–∏ –ª–∏–ø—Å–≤–∞ –∏–º–µ.</div>
  </div>
</div>

<!-- ===== REVIEWS PANEL MARKUP ===== -->
<!-- ===== REVIEWS PANEL (—Å –∞–¥–º–∏–Ω –≤—Ö–æ–¥ –≤ –ø–∞–Ω–µ–ª–∞) ===== -->
<div id="reviewsPanel" aria-hidden="true">
  <div id="reviewsBox" role="dialog" aria-modal="true" aria-labelledby="reviewsTitle">
    <h2 id="reviewsTitle">‚≠ê –û—Ç–∑–∏–≤–∏ –∏ –ø—Ä–µ–ø–æ—Ä—ä–∫–∏
      <small style="font-size:14px;color:#cfd6d6"> ‚Äî –≤–∏–∂–¥–∞—Ç —Å–µ –æ—Ç –≤—Å–∏—á–∫–∏</small>
    </h2>

    <div id="reviewsList" aria-live="polite"></div>

    <div id="addReview" style="margin-top:12px">
      <div style="display:flex;gap:10px;align-items:center;margin-bottom:8px">
        <div class="starSelect" id="starSelect" aria-label="–û—Ü–µ–Ω–∏ —Å—ä—Å –∑–≤–µ–∑–¥–∏" role="radiogroup"></div>
        <div style="font-size:13px;color:#bfc7c7">–ú–æ–∂–µ –¥–∞ –∏–∑–ø—Ä–∞—Ç–∏—à —Å–∞–º–æ –∑–≤–µ–∑–¥–∞, —Å–∞–º–æ —Ç–µ–∫—Å—Ç –∏–ª–∏ –∏ –¥–≤–µ—Ç–µ</div>
      </div>
      <input id="revName" type="text" placeholder="–í–∞—à–µ—Ç–æ –∏–º–µ (–ø–æ –∂–µ–ª–∞–Ω–∏–µ)">
      <textarea id="revText" placeholder="–í–∞—à–∏—è—Ç –∫–æ–º–µ–Ω—Ç–∞—Ä..."></textarea>
      <div style="display:flex;gap:8px;margin-top:8px;flex-wrap:wrap">
        <button id="sendReview" class="btn primary">–ò–∑–ø—Ä–∞—Ç–∏</button>
        <button id="clearReview" class="btn">–ò–∑—á–∏—Å—Ç–∏</button>
        <button id="closeReviews" class="btn" style="background:transparent;border:1px solid #ffffff12;color:#fff">–ó–∞—Ç–≤–æ—Ä–∏</button>
      </div>

      <!-- –ê–¥–º–∏–Ω –≤—Ö–æ–¥ (Firebase) –∑–∞ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ -->
      <div class="adminAuthToggle" id="adminAuthToggle">–í—Ö–æ–¥ –∑–∞ –∞–¥–º–∏–Ω (Firebase) –∑–∞ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ ‚ñº</div>
      <div class="adminAuthBox" id="adminAuthBox">
        <input id="fbEmail" type="email" placeholder="–ê–¥–º–∏–Ω –∏–º–µ–π–ª" value="soulflame.mitko@gmail.com">
        <input id="fbPass" type="password" placeholder="Firebase –ø–∞—Ä–æ–ª–∞">
        <div class="row">
          <button id="fbLoginBtn" class="btn">–í—Ö–æ–¥</button>
          <button id="fbLogoutBtn" class="btn">–ò–∑—Ö–æ–¥</button>
          <span id="fbState" style="align-self:center;font-size:12px;color:#bfc7c7">–ù–µ —Å–∏ –ª–æ–≥–Ω–∞—Ç</span>
        </div>
      </div>
    </div>
  </div>
</div>


<script>
/* ========== –ò–ù–§–û –ó–ê –ö–ê–†–¢–ò–ù–ò–¢–ê ========== */
const FILE_MAP={burgeri:'snimki/produkti/1menu/burger.jpg',palachinki:'snimki/produkti/1menu/palachinki.jpg',strandzhanki:'snimki/produkti/1menu/strandjanka.jpg',kartofi:'snimki/produkti/1menu/kartofi.jpg',salati:'snimki/produkti/1menu/salata.jpg',portsii:'snimki/produkti/1menu/porciq.jpg',dobavki:'snimki/produkti/1menu/dobavki.jpg',hell:'snimki/produkti/1menu/hell.jpg',voda:'snimki/produkti/–í–û–î–ê/voda_snimka.jpg',gazirana_voda:'snimki/produkti/–ì–ê–ó–ò–†–ê–ù–ê_–í–û–î–ê/gaziranavoda_snimka.jpg',fanta:'snimki/produkti/–§–ê–ù–¢–ê/fanta_logo.jpg',studen_chai:'snimki/produkti/–°–¢–£–î–ï–ù_–ß–ê–ô/studen_chai_logo.jpg',kola:'snimki/produkti/–ö–û–õ–ê/kola_logo.jpg',sok:'snimki/produkti/–°–û–ö/cappy_logo.jpg',xixo:'snimki/produkti/–•–ò–•–û/xixo_logo.jpg',airqn:'snimki/produkti/–ê–ô–†–ê–ù/vereq_logo.jpg'};
document.querySelectorAll('[data-key]').forEach(el=>{
  const key=el.getAttribute('data-key'), path=FILE_MAP[key];
  if(path) el.querySelector('.img').style.backgroundImage=`url("${path}")`;
  el.setAttribute('href', `index2.html?cat=${encodeURIComponent(key)}`);
});

/* ========== INTERACTIONS (cards) ========== */
const POP_DELAY=1000;
function goWithPop(el,url){ el.classList.remove('is-pressed'); el.classList.add('is-popping'); el.dataset.locked='1'; setTimeout(()=>{ location.href=url; },POP_DELAY); }
function shouldBypassDelay(e){ return e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.button===1; }
document.querySelectorAll('.card').forEach(card=>{
  card.addEventListener('mousedown',()=>card.classList.add('is-pressed'));
  card.addEventListener('mouseleave',()=>card.classList.remove('is-pressed'));
  card.addEventListener('touchstart',()=>{card.classList.add('is-pressed'); setTimeout(()=>card.classList.remove('is-pressed'),120)},{passive:true});
  card.addEventListener('click',e=>{ if(shouldBypassDelay(e)) return; e.preventDefault(); if(card.dataset.locked==='1') return; goWithPop(card, card.getAttribute('href')); });
  card.addEventListener('keydown',e=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); if(card.dataset.locked==='1') return; goWithPop(card, card.getAttribute('href')); }});
  window.addEventListener('pageshow',()=>{ card.classList.remove('is-pressed','is-popping'); delete card.dataset.locked; });
});

/* ========== SCROLL TO TOP ========== */
const toTop = document.getElementById('toTop');
const toggle = () => toTop.style.display = scrollY > 300 ? 'grid' : 'none';
toggle(); addEventListener('scroll', toggle);
toTop.addEventListener('click', () => scrollTo({ top:0, behavior:'smooth' }));

/* ========== ADMIN LOGIN ========== */
const ADMIN_PASSWORD='bbqcornera123';

const adminBtn=document.getElementById('adminBtn');
const authEl=document.getElementById('auth');
const nameEl=document.getElementById('adminName');
const pwdEl=document.getElementById('pwd');
const rememberEl=document.getElementById('remember');
const loginBtn=document.getElementById('loginBtn');
const errEl=document.getElementById('err');
const msgEl=document.getElementById('msg');

function openPanel(){ window.location.href='index4.html'; }

adminBtn.addEventListener('click',()=>{
  const remembered = localStorage.getItem('adminRemembered')==='1';
  const savedName = (localStorage.getItem('adminName')||'').trim();

  if(remembered && savedName){
    localStorage.setItem('adminVerified','1');
    openPanel();
    return;
  }

  errEl.style.display='none';
  msgEl.style.display='none';
  nameEl.value='';
  pwdEl.value='';
  rememberEl.checked=false;
  authEl.classList.add('show');
  setTimeout(()=>nameEl.focus(),0);
});

function doLogin(){
  const name=(nameEl.value||'').trim();
  const pwd=(pwdEl.value||'').trim();
  const remember = rememberEl.checked;

  if(!name || pwd!==ADMIN_PASSWORD){
    msgEl.style.display='none';
    errEl.textContent = !name ? '‚ùå –í—ä–≤–µ–¥–∏ –∏–º–µ.' : '‚ùå –ì—Ä–µ—à–Ω–∞ –ø–∞—Ä–æ–ª–∞.';
    errEl.style.display='block';
    return;
  }

  errEl.style.display='none';
  msgEl.style.display='block';
  localStorage.setItem('adminVerified','1');
  localStorage.setItem('adminName', name);
  if(remember){
    localStorage.setItem('adminRemembered','1');
  }else{
    localStorage.removeItem('adminRemembered');
  }

  setTimeout(()=>{ authEl.classList.remove('show'); openPanel(); }, 900);
}

loginBtn.addEventListener('click', doLogin);
nameEl.addEventListener('keydown', e=>{ if(e.key==='Enter'){ e.preventDefault(); pwdEl.focus(); }});
pwdEl.addEventListener('keydown', e=>{ if(e.key==='Enter'){ e.preventDefault(); doLogin(); }});
document.addEventListener('keydown', e=>{ if(e.key==='Escape') authEl.classList.remove('show'); });
authEl.addEventListener('click', e=>{ if(e.target===authEl) authEl.classList.remove('show'); });

/* ========== TRACK ORDER BUTTON logic ========== */
const trackBtn = document.getElementById('trackBtn');
if (trackBtn) {
  trackBtn.addEventListener('click', () => {
    const panel = document.getElementById('trackPanel');   // –∞–∫–æ –∏–º–∞ –º–æ–¥–∞–ª –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞
    if (panel) {
      panel.classList.add('show');
      const codeInput = document.getElementById('trackCode');
      if (codeInput) {
        const last = (localStorage.getItem('trackCode') || '').trim();
        if (last) codeInput.value = last;
        setTimeout(() => codeInput.focus(), 0);
      }
      return;
    }
    // fallback: –ø—Ä–µ–Ω–∞—Å–æ—á–≤–∞–Ω–µ –∫—ä–º —Ç—Ä–∞–∫–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
    window.location.href = 'index6.html?tab=tracking';
  });
}

/* ========== GLOBAL ADMIN CLICK LOGGER (existing) ========== */
(function(){
  const who = (localStorage.getItem('adminName') || '').trim();
  if(!who) return;

  function logAction(text){
    const k = `logs_${who}`;
    const now = new Date();
    const entry = `${now.toLocaleString()} ‚Äî ${who} ${text}`;
    const arr = JSON.parse(localStorage.getItem(k) || '[]');
    arr.unshift(entry);
    localStorage.setItem(k, JSON.stringify(arr));

    const known = new Set(JSON.parse(localStorage.getItem('logs__admins')||'[]'));
    known.add(who);
    localStorage.setItem('logs__admins', JSON.stringify([...known]));
  }

  document.addEventListener('click', e=>{
    let desc = '';
    if(e.target.closest('button, a, input, select')){
      const el = e.target.closest('button, a, input, select');
      const tag = el.tagName.toLowerCase();
      const label = el.innerText || el.value || el.id || '(–±–µ–∑ —Ç–µ–∫—Å—Ç)';
      desc = `–∫–ª–∏–∫–Ω–∞ –≤—ä—Ä—Ö—É ${tag} ‚Üí "${label.trim().slice(0,60)}"`;
    } else {
      desc = `–∫–ª–∏–∫–Ω–∞ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–ª–Ω–æ –º—è—Å—Ç–æ (${e.clientX}x${e.clientY})`;
    }
    const page = location.pathname.split('/').pop() || '–Ω–µ–ø–æ–∑–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞';
    logAction(`${desc} [${page}]`);
  });

  logAction(`–≤–ª–µ–∑–µ –≤ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ (${location.pathname.split('/').pop()})`);
})();
</script>

<!-- ========== REVIEWS FUNCTIONALITY (Firebase) ========== -->
<!-- ========== REVIEWS (Firebase, realtime, admin delete) ========== -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
  import {
    getFirestore, collection, query, orderBy, onSnapshot,
    addDoc, doc, deleteDoc, serverTimestamp
  } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";
  import {
    getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut
  } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";

  // === Firebase config (—Ç–≤–æ—è —Ä–µ–∞–ª–µ–Ω –ø—Ä–æ–µ–∫—Ç) ===
  const firebaseConfig = {
    apiKey: "AIzaSyAhaEPIEODEoRiwTulBw4W9YTXyMW9sqKg",
    authDomain: "corner-bbq.firebaseapp.com",
    projectId: "corner-bbq",
    storageBucket: "corner-bbq.firebasestorage.app",
    messagingSenderId: "878314744141",
    appId: "1:878314744141:web:f869886ee4380e9dbcaf04",
    measurementId: "G-FWBDL96GN0"
  };

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  const app  = initializeApp(firebaseConfig);
  const db   = getFirestore(app);
  const auth = getAuth(app);

  // UI –µ–ª–µ–º–µ–Ω—Ç–∏
  const panel     = document.getElementById('reviewsPanel');
  const btnOpen   = document.getElementById('reviewsBtn');
  const btnClose  = document.getElementById('closeReviews');
  const list      = document.getElementById('reviewsList');
  const starBox   = document.getElementById('starSelect');
  const nameInp   = document.getElementById('revName');
  const textInp   = document.getElementById('revText');
  const btnSend   = document.getElementById('sendReview');
  const btnClear  = document.getElementById('clearReview');

  const adminAuthToggle = document.getElementById('adminAuthToggle');
  const adminAuthBox    = document.getElementById('adminAuthBox');
  const fbEmail         = document.getElementById('fbEmail');
  const fbPass          = document.getElementById('fbPass');
  const fbLoginBtn      = document.getElementById('fbLoginBtn');
  const fbLogoutBtn     = document.getElementById('fbLogoutBtn');
  const fbState         = document.getElementById('fbState');

  if (adminAuthToggle) adminAuthToggle.addEventListener('click', ()=> adminAuthBox.classList.toggle('show'));

  // –ó–≤–µ–∑–¥–∏ (0..6)
  let stars = 0;
  function drawStars(){
    starBox.innerHTML = '';
    for (let i=1;i<=6;i++){
      const s = document.createElement('span');
      s.textContent = '‚òÖ';
      s.className = i<=stars ? 'active' : '';
      s.onclick = () => { stars = i; drawStars(); };
      starBox.appendChild(s);
    }
  }
  drawStars();
  const fmtStars = n => (!n||n<=0) ? '' : '‚òÖ'.repeat(n)+'‚òÜ'.repeat(6-n);

  // –ü—É–±–ª–∏–∫—É–≤–∞–Ω–µ
  let sending = false;
  async function publishReview(){
    if (sending) return;
    const name = (nameInp.value||'').trim() || '–ê–Ω–æ–Ω–∏–º–µ–Ω';
    const text = (textInp.value||'').trim();
    if (!text && stars===0){ alert('–ú–æ–ª—è, –∑–≤–µ–∑–¥–∏ –∏–ª–∏ —Ç–µ–∫—Å—Ç.'); return; }

    sending = true; btnSend.disabled = true;
    try{
      await addDoc(collection(db,'reviews'), {
        name, text, stars,
        date: new Date().toLocaleString(),
        createdAt: serverTimestamp()
      });
      alert('‚úÖ –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º! –û—Ç–∑–∏–≤—ä—Ç –µ –ø—É–±–ª–∏–∫—É–≤–∞–Ω.');
      nameInp.value=''; textInp.value=''; stars=0; drawStars();
    }catch(e){
      console.error(e);
      alert('‚ùå –ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –ø—É–±–ª–∏–∫—É–≤–∞–Ω–µ.');
    }finally{
      sending = false; btnSend.disabled = false;
    }
  }

  // –†–µ–Ω–¥–µ—Ä + (–∞–¥–º–∏–Ω) –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ
function renderList(snap, isAdmin){
  list.innerHTML = '';
  if (snap.empty){
    list.innerHTML = '<div class="smallMuted">–í—Å–µ –æ—â–µ –Ω—è–º–∞ –æ—Ç–∑–∏–≤–∏. –ë—ä–¥–∏ –ø—ä—Ä–≤–∏!</div>';
    return;
  }

  const isLocalAdmin = localStorage.getItem('adminVerified') === '1';

  snap.forEach(d=>{
    const r = d.data();
    const safeText = (r.text||'').replace(/</g,'&lt;').replace(/>/g,'&gt;');
    const item = document.createElement('div');
    item.className = 'reviewItem';
    item.innerHTML = `
      <div class="reviewHead">
        <div>
          <div class="reviewName">${r.name || '–ê–Ω–æ–Ω–∏–º–µ–Ω'}</div>
          <div class="smallMuted">${r.date || ''}</div>
        </div>
        <button class="delBtn" data-id="${d.id}" title="–ò–∑—Ç—Ä–∏–π –æ—Ç–∑–∏–≤–∞"
          style="display:${(isAdmin || isLocalAdmin)?'inline':'none'}">‚úñ</button>
      </div>
      <div class="stars">${fmtStars(r.stars) || '–ù—è–º–∞ –æ—Ü–µ–Ω–∫–∞'}</div>
      <div class="reviewText">${safeText || '<i style="color:#9aa0a6">(–±–µ–∑ —Ç–µ–∫—Å—Ç)</i>'}</div>
      <div class="reviewMeta">–û—Ü–µ–Ω–∫–∞: ${r.stars?`${r.stars}/6`:'‚Äî'}</div>
    `;
    list.appendChild(item);
  });

  // === –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ —Å –∞–¥–º–∏–Ω –ø–∞—Ä–æ–ª–∞ bbqcornera123 ===
  list.querySelectorAll('.delBtn').forEach(b=>{
    b.onclick = async ()=>{
      const pass = prompt('üîê –í—ä–≤–µ–¥–∏ –∞–¥–º–∏–Ω –ø–∞—Ä–æ–ª–∞—Ç–∞ –∑–∞ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ:');
if (pass !== 'bbqcornera123') {
  alert('‚ùå –ì—Ä–µ—à–Ω–∞ –ø–∞—Ä–æ–ª–∞!');
  return;
}

await firebaseAdminLogin(); // üß† –≤–ª–∏–∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ä–≤ Firebase –ø—Ä–µ–¥–∏ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ
if (!confirm('–°–∏–≥—É—Ä–µ–Ω –ª–∏ —Å–∏, —á–µ –∏—Å–∫–∞—à –¥–∞ –∏–∑—Ç—Ä–∏–µ—à —Ç–æ–∑–∏ –æ—Ç–∑–∏–≤?')) return;

try {
  await deleteDoc(doc(db, 'reviews', b.dataset.id));
  alert('‚úÖ –û—Ç–∑–∏–≤—ä—Ç –µ –∏–∑—Ç—Ä–∏—Ç —É—Å–ø–µ—à–Ω–æ.');
} catch(e) {
  console.error(e);
  alert('‚ùå –ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ.');
}
    };
  });
}


  // –ñ–∏–≤–æ —á–µ—Ç–µ–Ω–µ
  const qRef = query(collection(db,'reviews'), orderBy('createdAt','desc'));
  let unsub = null;
  onAuthStateChanged(auth, user=>{
    const isAdmin = !!user && user.email === 'soulflame.mitko@gmail.com';
    if (fbState) fbState.textContent = isAdmin ? `–õ–æ–≥–Ω–∞—Ç: ${user.email}` : '–ù–µ —Å–∏ –ª–æ–≥–Ω–∞—Ç';
    if (unsub) { unsub(); unsub=null; }
    unsub = onSnapshot(qRef, snap => renderList(snap, isAdmin));
  });

  // –û—Ç–≤–∞—Ä—è–Ω–µ/–∑–∞—Ç–≤–∞—Ä—è–Ω–µ
  if (btnOpen)  btnOpen.onclick  = ()=> panel.classList.add('show');
  if (btnClose) btnClose.onclick = ()=> panel.classList.remove('show');
  panel.onclick = e=>{ if(e.target===panel) panel.classList.remove('show'); };
  document.addEventListener('keydown', e=>{ if(e.key==='Escape') panel.classList.remove('show'); });

  // –ë—É—Ç–æ–Ω–∏
  btnSend.onclick  = publishReview;
  btnClear.onclick = ()=>{ nameInp.value=''; textInp.value=''; stars=0; drawStars(); };

  // Firebase admin –≤—Ö–æ–¥/–∏–∑—Ö–æ–¥ –≤ –ø–∞–Ω–µ–ª–∞
  if (fbLoginBtn) fbLoginBtn.addEventListener('click', async ()=>{
    try {
      const email = (fbEmail.value||'').trim();
      const pass  = (fbPass.value||'').trim();
      if(!email || !pass){ alert('–í—ä–≤–µ–¥–∏ –∏–º–µ–π–ª –∏ –ø–∞—Ä–æ–ª–∞.'); return; }
      await signInWithEmailAndPassword(auth, email, pass);
      fbPass.value='';
      alert('‚úÖ –£—Å–ø–µ—à–µ–Ω –≤—Ö–æ–¥.');
    } catch(e){
      console.error(e);
      alert('‚ùå –ù–µ—É—Å–ø–µ—à–µ–Ω –≤—Ö–æ–¥.');
    }
  });
  if (fbLogoutBtn) fbLogoutBtn.addEventListener('click', async ()=>{
    try { await signOut(auth); alert('‚úÖ –ò–∑–ª–µ–∑–µ –æ—Ç Firebase.'); }
    catch(e){ console.error(e); }
  });
</script>

</body>
</html>

